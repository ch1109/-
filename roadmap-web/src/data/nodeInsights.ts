import type { CoreFeatureDetail, NodeInsight } from '../types/roadmap';

const baseNodeInsights: NodeInsight[] = [
  {
    nodeId: '1',
    label: '智能接待与场景识别',
    triggers: {
      system: '系统启动 / 用户进入 VTM 机。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '理财 Agent 调度协调管家（Orchestrator）',
      '客户理财顾问（Client Financial Coach）',
    ],
    coreFunctions: [
      '根据身份与渠道标签动态生成欢迎脚本',
      '展示 AI 理财的三大核心价值与体验路径',
      '捕捉口述或点选意图并分流后续流程',
    ],
    requiredCapabilities: [
      '场景识别与路由：识别到店客群并匹配迎宾策略（Orchestrator）。',
      '体验连贯保障：保持人格一致与跨触点记忆传递（Orchestrator）。',
      '高情商沟通：快速共情并化解初次疑虑（Client Financial Coach）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：个人基础信息：姓名、年龄、性别、婚姻状况、职业、学历、城市',
      '需要的数据类别、具体数据项：客户等级信息：VIP等级、金融资产规模、客户价值评分',
      '需要的数据类别、具体数据项：理财产品持仓：产品名称、购买金额、净值、收益率、购买日期、费率',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师判断人生阶段，匹配规划模板',
      '应用场景：用于协调管家执行差异化服务、费率优惠、产品推荐',
      '应用场景：帮助投资顾问了解已有配置，避免重复，评估风险敞口',
    ],
  },
  {
    nodeId: '2',
    label: '首次接触与认知建立',
    triggers: {
      system: '节点1识别探索意图后分流至内容区。',
      user: '',
      data: '客户标签=新客户。',
      time: '',
    },
    aiRoles: [
      '理财 Agent 调度协调管家（Orchestrator）',
      '客户理财顾问（Client Financial Coach）',
      '市场研究员（Market Researcher）',
    ],
    coreFunctions: [
      '推送与用户画像匹配的真实案例与数据证据',
      '智能问答墙预判并回答常见顾虑',
      '引导用户进入体验路径或预约后续服务',
    ],
    requiredCapabilities: [
      '资讯智能推送：依据用户画像匹配案例与问答内容（Market Researcher）。',
      '冲突消解与内容编排：在教育与转化之间平衡节奏（Orchestrator）。',
      '认知偏差识别：针对“怕被推销”等偏差给出安抚话术（Client Financial Coach）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：个人基础信息：姓名、年龄、性别、婚姻状况、职业、学历、城市',
      '需要的数据类别、具体数据项：风险测评结果：测评问卷答案、风险等级(R1-R5)、测评日期',
      '需要的数据类别、具体数据项：购买记录：购买时间、产品类型、金额、持有周期',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师判断人生阶段，匹配规划模板',
      '应用场景：用于风控官执行适当性管理，完成产品风险匹配',
      '应用场景：帮助理财顾问识别购买偏好、投资风格、决策特点',
    ],
  },
  {
    nodeId: '2.1',
    label: '老客户识别与快速服务',
    triggers: {
      system: '节点1刷卡 / 人脸识别成功。',
      user: '',
      data: '客户标签=老客户。',
      time: '',
    },
    aiRoles: ['财富管家（Wealth Steward）', '财富规划师（Wealth Planner）'],
    coreFunctions: [
      '呈现资产概览、收益与目标进度',
      '推送智能提醒（定投、调仓、待办）',
      '提供一键执行的快捷操作入口',
    ],
    requiredCapabilities: [
      '七维持仓体检：快速呈现收益、风险与目标匹配度（Wealth Steward）。',
      '闲置资金识别与快捷执行：联动交易管道完成追加/赎回（Wealth Steward）。',
      '现金流工程与目标校准：结合资产概览更新目标进度（Wealth Planner）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：活期存款：活期账户余额、到账时间、流动性',
      '需要的数据类别、具体数据项：理财产品持仓：产品名称、购买金额、净值、收益率、购买日期、费率',
      '需要的数据类别、具体数据项：风险测评结果：测评问卷答案、风险等级(R1-R5)、测评日期',
    ],
    dataSupportedFunctions: [
      '应用场景：帮助财富规划师与财富管家识别闲置资金，计算可投资总额',
      '应用场景：用于财富管家了解已有配置，避免重复，评估风险敞口',
      '应用场景：用于风控官执行适当性管理，完成产品风险匹配',
    ],
  },
  {
    nodeId: '3',
    label: '激活注册与授权',
    triggers: {
      system: '节点2客户点击继续办理进入注册流程。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '理财 Agent 调度协调管家（Orchestrator）',
      '风控合规官（Risk & Compliance Officer）',
    ],
    coreFunctions: [
      '协同硬件完成身份核验与银行卡绑定',
      '解释不同授权级别对应的功能范围',
      '监控异常行为（多次失败、风险名单）并给出替代方案',
    ],
    requiredCapabilities: [
      '意图理解与流程编排：引导用户按顺序完成实名、绑卡与授权（Orchestrator）。',
      '合规审核与实时干预：对接 KYC、名单匹配与授权合法性校验（Risk & Compliance Officer）。',
      '冲突消解与兜底：在失败或超时场景触发备用流程与人工协助（Orchestrator）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：个人基础信息：姓名、年龄、性别、婚姻状况、职业、学历、城市',
      '需要的数据类别、具体数据项：账户基本信息：证券账户号、开户日期、账户类型、客户等级',
      '需要的数据类别、具体数据项：风险测评结果：测评问卷答案、风险等级(R1-R5)、测评日期',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师判断人生阶段，匹配规划模板',
      '应用场景：用于协调管家与投资顾问完成账户身份确认，差异化服务',
      '应用场景：用于风控官执行适当性管理，完成产品风险匹配',
    ],
  },
  {
    nodeId: '4',
    label: '隐私模式选择',
    triggers: {
      system: '节点3注册成功且授权档位已确认。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '理财 Agent 调度协调管家（Orchestrator）',
      '风控合规官（Risk & Compliance Officer）',
    ],
    coreFunctions: [
      '提供标准屏、手机输入、资料上传等多种模式',
      '同步展示隐私保护措施与数据安全说明',
      '记录模式切换与填写进度避免数据丢失',
    ],
    requiredCapabilities: [
      '体验连贯保障：在模式切换时保持流程连续与记忆同步（Orchestrator）。',
      '敏感字段识别与提醒策略：提前感知隐私风险并提供替代方案（Risk & Compliance Officer）。',
      '跨端同步与安全传输：保障手机输入、资料上传的数据安全（Orchestrator）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：个人基础信息：姓名、年龄、性别、婚姻状况、职业、学历、城市',
      '需要的数据类别、具体数据项：收入数据：工资卡流水、奖金记录、每月到账金额、收入稳定性、年度收入汇总',
      '需要的数据类别、具体数据项：支出数据：日常消费、房贷月供、车贷、信用卡还款、保险费、大额支出',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师判断人生阶段，匹配规划模板',
      '应用场景：用于财富规划师计算可投资金额，评估收入增长，设定储蓄目标',
      '应用场景：帮助财富规划师计算现金流缺口，确定应急储备金，识别消费习惯',
    ],
  },
  {
    nodeId: '5',
    label: '新手引导与财商教育',
    triggers: {
      system: '节点4隐私模式已选定。',
      user: '',
      data: '用户标签=理财新手。',
      time: '',
    },
    aiRoles: [
      '财富规划师（Wealth Planner）',
      '客户理财顾问（Client Financial Coach）',
      '理财 Agent 调度协调管家（Orchestrator）',
    ],
    coreFunctions: [
      '判断理财认知等级并推荐学习路径',
      '通过互动任务完成目标设定与基础诊断',
      '记录学习行为补齐画像标签',
    ],
    requiredCapabilities: [
      '财商教育：用通俗语言讲解核心概念并纠正误区（Wealth Planner）。',
      '认知偏差识别：观察学习过程中的犹豫与抗拒（Client Financial Coach）。',
      '任务编排与激励：编排学习路径与即时奖励（Orchestrator）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：收入数据：工资卡流水、奖金记录、每月到账金额、收入稳定性、年度收入汇总',
      '需要的数据类别、具体数据项：支出数据：日常消费、房贷月供、车贷、信用卡还款、保险费、大额支出',
      '需要的数据类别、具体数据项：风险测评结果：测评问卷答案、风险等级(R1-R5)、测评日期',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师计算可投资金额，评估收入增长，设定储蓄目标',
      '应用场景：帮助财富规划师计算现金流缺口，确定应急储备金，识别消费习惯',
      '应用场景：用于风控官执行适当性管理，完成产品风险匹配',
    ],
  },
  {
    nodeId: '6',
    label: '核心画像构建',
    triggers: {
      system: '节点5快速诊断完成；或识别为有经验用户直接进入画像。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '财富规划师（Wealth Planner）',
      '风控合规官（Risk & Compliance Officer）',
      '理财 Agent 调度协调管家（Orchestrator）',
    ],
    coreFunctions: [
      '多轮对话/表单采集基础、财务、心理、行为信息',
      '自动填充系统已有数据并请用户确认',
      '生成实时画像概要供用户校对与后续规划使用',
    ],
    requiredCapabilities: [
      '多轮对话理解与缺口追问：识别画像空白并引导补充（Wealth Planner）。',
      '数据可信度校验与异常识别：结合风控阈值判断异常回答（Risk & Compliance Officer）。',
      '上下文编排与自动填充：利用已有数据预填并让用户确认（Orchestrator）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：收入数据：工资卡流水、奖金记录、每月到账金额、收入稳定性、年度收入汇总',
      '需要的数据类别、具体数据项：支出数据：日常消费、房贷月供、车贷、信用卡还款、保险费、大额支出',
      '需要的数据类别、具体数据项：其他负债：车贷、消费贷、信用卡负债、民间借贷',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师计算可投资金额，评估收入增长，设定储蓄目标',
      '应用场景：帮助财富规划师计算现金流缺口，确定应急储备金，识别消费习惯',
      '应用场景：用于风控官全面评估负债压力，判断财务健康度',
    ],
  },
  {
    nodeId: '7',
    label: '需求挖掘与目标澄清',
    triggers: {
      system: '节点6核心画像完成。',
      user: '节点2.1老客户选择“设定新目标”。',
      data: '',
      time: '',
    },
    aiRoles: [
      '财富规划师（Wealth Planner）',
      '投资策略师（Investment Strategist）',
    ],
    coreFunctions: [
      '将模糊愿望转化为 SMART 目标并校验可行性',
      '评估现金流与定投能力，给出多档方案',
      '识别多目标冲突并提供排序或组合策略',
    ],
    requiredCapabilities: [
      '现金流工程：评估收支、算出可投入金额与应急金（Wealth Planner）。',
      '目标架构设计：识别多目标冲突并给出排序与折衷方案（Wealth Planner）。',
      '情景模拟与达成率计算：基于市场假设评估方案可行性（Investment Strategist）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：收入数据：工资卡流水、奖金记录、每月到账金额、收入稳定性、年度收入汇总',
      '需要的数据类别、具体数据项：支出数据：日常消费、房贷月供、车贷、信用卡还款、保险费、大额支出',
      '需要的数据类别、具体数据项：房贷信息：房贷余额、月供金额、剩余期限、利率',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师计算可投资金额，评估收入增长，设定储蓄目标',
      '应用场景：帮助财富规划师计算现金流缺口，确定应急储备金，识别消费习惯',
      '应用场景：用于风控官与财富规划师计算负债率，评估投资能力',
    ],
  },
  {
    nodeId: '8',
    label: '方案设计与策略制定',
    triggers: {
      system: '节点7目标具体化完成且定投金额已确定。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '投资策略师（Investment Strategist）',
      '投资顾问（Investment Advisor）',
    ],
    coreFunctions: [
      '结合资产目标生成保守/稳健/进取三档策略',
      '展示蒙特卡洛模拟、历史回测与压力测试结果',
      '实时响应金额、期限调整给出新预期与风险提示',
    ],
    requiredCapabilities: [
      '资产配置方法论：构建保守/稳健/进取多档策略并设置再平衡（Investment Strategist）。',
      '情景模拟与压力测试：运行蒙特卡洛、历史回测与最坏情况演练（Investment Strategist）。',
      '产品筛选与持仓穿透：比较费率、风险与底层资产以生成推荐理由（Investment Advisor）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：理财产品持仓：产品名称、购买金额、净值、收益率、购买日期、费率',
      '需要的数据类别、具体数据项：基金持仓：基金名称、持仓份额、成本价、当前市值、分红记录',
      '需要的数据类别、具体数据项：风险数据：个股波动率、基金波动率、最大回撤、夏普比率',
    ],
    dataSupportedFunctions: [
      '应用场景：帮助投资顾问了解已有配置，避免重复，评估风险敞口',
      '应用场景：用于投资顾问与财富管家了解权益资产占比、风险水平',
      '应用场景：用于风控官开展风险量化，完成产品评估',
    ],
  },
  {
    nodeId: '9',
    label: '方案对比与疑虑解答',
    triggers: {
      system: '节点8客户选定方案进入确认环节。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '客户理财顾问（Client Financial Coach）',
      '投资顾问（Investment Advisor）',
    ],
    coreFunctions: [
      '预判最常见疑虑并给出结构化解答',
      '透明披露费用、风险与不适用情况',
      '随时转接人工并同步上下文记录',
    ],
    requiredCapabilities: [
      '疑虑预测与知识检索：提前准备高频问题的结构化回答（Investment Advisor）。',
      '高情商沟通与认知偏差拆解：化解“怕亏”“怕被推销”等顾虑（Client Financial Coach）。',
      '费用拆解与最坏情况演示：透明披露成本与风险（Investment Advisor）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：产品费用明细：申购费、赎回费、管理费、托管费、销售费',
      '需要的数据类别、具体数据项：基金同类排名：基金同类排名、相对收益表现、跑输或跑赢幅度',
      '需要的数据类别、具体数据项：风险测评结果：测评问卷答案、风险等级(R1-R5)、测评日期',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富管家与投资顾问开展费率优化分析，评估成本拖累',
      '应用场景：帮助投资顾问进行相对业绩评估，完成基金替换决策',
      '应用场景：用于风控官执行适当性管理，完成产品风险匹配',
    ],
  },
  {
    nodeId: '10',
    label: '智能转接与协同',
    triggers: {
      system: '节点9检测到复杂情形（金额 >100 万 / 特殊需求 / 置信度低）。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '理财 Agent 调度协调管家（Orchestrator）',
      '客户理财顾问（Client Financial Coach）',
    ],
    coreFunctions: [
      '判断是否需要转人工并选择合适的顾问类型',
      '传递完整上下文让顾问无需重复问答',
      '在人工结束后继续承接 AI 流程与记录',
    ],
    requiredCapabilities: [
      '场景识别与路由：根据金额、情绪与复杂度选择合适顾问（Orchestrator）。',
      '上下文共享与 SLA 监控：保障转接前后台信息同步并监控响应时效（Orchestrator）。',
      '高情商沟通：在转接前后安抚情绪并设定预期（Client Financial Coach）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：客户等级信息：VIP等级、金融资产规模、客户价值评分',
      '需要的数据类别、具体数据项：账户基本信息：证券账户号、开户日期、账户类型、客户等级',
      '需要的数据类别、具体数据项：交易记录：交易时间、交易品种、买卖方向、交易数量、交易价格、交易费用',
    ],
    dataSupportedFunctions: [
      '应用场景：用于协调管家执行差异化服务、费率优惠、产品推荐',
      '应用场景：用于协调管家与投资顾问完成账户身份确认，差异化服务',
      '应用场景：帮助理财顾问与风控官分析交易风格、频率、行为模式',
    ],
  },
  {
    nodeId: '11',
    label: '临门决策犹豫期',
    triggers: {
      system: '节点9所有疑虑已解答。',
      user: '节点10人工咨询完成并回传结果。',
      data: '',
      time: '',
    },
    aiRoles: [
      '客户理财顾问（Client Financial Coach）',
      '财富规划师（Wealth Planner）',
    ],
    coreFunctions: [
      '识别犹豫类型并提供针对性缓释方案',
      '提供阶梯式入场、金额拆分等可执行建议',
      '用决策清单确认用户已了解风险与关键事项',
    ],
    requiredCapabilities: [
      '犹豫信号检测与原因分类：结合行为和对话判定犹豫类型（Client Financial Coach）。',
      '心理账户干预与苏格拉底式提问：帮助用户自证决策合理性（Client Financial Coach）。',
      '现金流工程与风险再确认：用数据说明调整方案的影响（Wealth Planner）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：交易记录：交易时间、交易品种、买卖方向、交易数量、交易价格、交易费用',
      '需要的数据类别、具体数据项：追涨杀跌记录：历史高点附近买入、历史低点附近卖出的交易',
      '需要的数据类别、具体数据项：持有时长：平均持有天数、最长持有周期、最短持有周期',
    ],
    dataSupportedFunctions: [
      '应用场景：帮助理财顾问与风控官分析交易风格、频率、行为模式',
      '应用场景：用于理财顾问识别认知偏差，进行心理干预',
      '应用场景：帮助理财顾问判断投资风格（长期vs短期）、耐心度',
    ],
  },
  {
    nodeId: '12',
    label: '首次成交与确认',
    triggers: {
      system: '节点11客户克服犹豫并点击确认提交。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '客户理财顾问（Client Financial Coach）',
      '财富管家（Wealth Steward）',
    ],
    coreFunctions: [
      '实时同步交易状态与到账进度',
      '营造成就仪式并设定合理预期',
      '引导用户开启后续提醒与陪伴服务',
    ],
    requiredCapabilities: [
      '交易状态订阅与推送：实时同步到账、失败与异常（Wealth Steward）。',
      '成就激励与高情商话术：营造成就仪式并设定预期（Client Financial Coach）。',
      '提醒与任务编排：引导开启后续陪伴与再平衡任务（Wealth Steward）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：交易记录：交易时间、交易品种、买卖方向、交易数量、交易价格、交易费用',
      '需要的数据类别、具体数据项：产品费用明细：申购费、赎回费、管理费、托管费、销售费',
      '需要的数据类别、具体数据项：可用资金：证券账户现金余额、冻结金额、可用余额',
    ],
    dataSupportedFunctions: [
      '应用场景：帮助理财顾问与风控官分析交易风格、频率、行为模式',
      '应用场景：用于财富管家与投资顾问开展费率优化分析，评估成本拖累',
      '应用场景：用于财富规划师与财富管家计算总资产，识别闲置资金',
    ],
  },
  {
    nodeId: '13',
    label: '移动端过渡引导',
    triggers: {
      system: '节点12交易成功回执确认。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '理财 Agent 调度协调管家（Orchestrator）',
      '客户理财顾问（Client Financial Coach）',
    ],
    coreFunctions: [
      '说明 App 独家功能与随身价值',
      '实现扫码后一键识别并同步数据',
      '在用户拒绝时记录原因并提供替代方案',
    ],
    requiredCapabilities: [
      '跨端账号绑定与数据同步：让 VTM → App 的迁移无缝衔接（Orchestrator）。',
      '功能差异说明与权益计算：用用户语言解释迁移价值（Client Financial Coach）。',
      '下载状态跟踪与提醒编排：根据行为触发二次提醒（Orchestrator）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：账户基本信息：证券账户号、开户日期、账户类型、客户等级',
      '需要的数据类别、具体数据项：可用资金：证券账户现金余额、冻结金额、可用余额',
      '需要的数据类别、具体数据项：购买记录：购买时间、产品类型、金额、持有周期',
    ],
    dataSupportedFunctions: [
      '应用场景：用于协调管家与投资顾问完成账户身份确认，差异化服务',
      '应用场景：用于财富规划师与财富管家计算总资产，识别闲置资金',
      '应用场景：帮助理财顾问识别购买偏好、投资风格、决策特点',
    ],
  },
  {
    nodeId: '14',
    label: '深度画像构建（完整版）',
    triggers: {
      system: '节点13 App 首次登录成功（可选节点）。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '财富规划师（Wealth Planner）',
      '理财 Agent 调度协调管家（Orchestrator）',
    ],
    coreFunctions: [
      '通过 20-30 轮对话完成五维画像标签',
      '实时呈现画像仪表与矛盾提醒',
      '允许用户编辑、删除标签并补充证据',
    ],
    requiredCapabilities: [
      '多轮对话理解与缺口追问：保持深度画像对话连续（Wealth Planner）。',
      '画像标签生成与矛盾检测：识别冲突并提示核实（Wealth Planner）。',
      '上下文管理与自动话题切换：穿插已有数据预填和补问（Orchestrator）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：个人基础信息：姓名、年龄、性别、婚姻状况、职业、学历、城市',
      '需要的数据类别、具体数据项：收入数据：工资卡流水、奖金记录、每月到账金额、收入稳定性、年度收入汇总',
      '需要的数据类别、具体数据项：支出数据：日常消费、房贷月供、车贷、信用卡还款、保险费、大额支出',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师判断人生阶段，匹配规划模板',
      '应用场景：用于财富规划师计算可投资金额，评估收入增长，设定储蓄目标',
      '应用场景：帮助财富规划师计算现金流缺口，确定应急储备金，识别消费习惯',
    ],
  },
  {
    nodeId: '15',
    label: '首次持仓关键陪伴期（72小时）',
    triggers: {
      system: '节点14深度画像完成。',
      user: '节点13客户选择不下载 App。',
      data: '',
      time: '',
    },
    aiRoles: [
      '客户理财顾问（Client Financial Coach）',
      '风控合规官（Risk & Compliance Officer）',
      '财富管家（Wealth Steward）',
    ],
    coreFunctions: [
      '分阶段推送认知强化与情绪安抚内容',
      '监控高危行为并提供干预方案',
      '引导加入社群与持续陪伴渠道',
    ],
    requiredCapabilities: [
      '情绪与行为预警模型：识别高频查看、恐慌言辞等信号（Risk & Compliance Officer）。',
      '情景化教育与心理干预话术：针对浮亏浮盈提供安心路径（Client Financial Coach）。',
      '七维体检与提醒编排：根据收益、风险及时推送任务（Wealth Steward）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：基金持仓：基金名称、持仓份额、成本价、当前市值、分红记录',
      '需要的数据类别、具体数据项：风险数据：个股波动率、基金波动率、最大回撤、夏普比率',
      '需要的数据类别、具体数据项：追涨杀跌记录：历史高点附近买入、历史低点附近卖出的交易',
    ],
    dataSupportedFunctions: [
      '应用场景：用于投资顾问与财富管家了解权益资产占比、风险水平',
      '应用场景：用于风控官开展风险量化，完成产品评估',
      '应用场景：用于理财顾问识别认知偏差，进行心理干预',
    ],
  },
  {
    nodeId: '16',
    label: '持有期日常管理',
    triggers: {
      system: '节点15陪伴流程已切换至常态管理。',
      user: '',
      data: '',
      time: '72 小时陪伴任务平稳结束。',
    },
    aiRoles: [
      '财富管家（Wealth Steward）',
      '投资策略师（Investment Strategist）',
    ],
    coreFunctions: [
      '提供分层提醒与定期健康报告',
      '识别再平衡、闲置资金等优化机会',
      '根据偏好推送合适的市场与策略信息',
    ],
    requiredCapabilities: [
      '资产监控与偏离识别：跟踪收益、风险、配置是否偏离（Wealth Steward）。',
      '提醒编排与频控：分层推送日/周/月提醒并控制频率（Wealth Steward）。',
      '行业与市场信息匹配：将研究洞察转换为个性化简报（Investment Strategist）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：活期存款：活期账户余额、到账时间、流动性',
      '需要的数据类别、具体数据项：定期存款：定期存款余额、期限、到期日、利率',
      '需要的数据类别、具体数据项：基金持仓：基金名称、持仓份额、成本价、当前市值、分红记录',
    ],
    dataSupportedFunctions: [
      '应用场景：帮助财富规划师与财富管家识别闲置资金，计算可投资总额',
      '应用场景：用于财富管家识别即将到期的资金，规划再配置',
      '应用场景：用于投资顾问与财富管家了解权益资产占比、风险水平',
    ],
  },
  {
    nodeId: '17',
    label: '策略动态调整与再平衡',
    triggers: {
      system: '节点16检测到策略调整信号（目标/风险/市场/人生阶段/表现偏离）。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '投资策略师（Investment Strategist）',
      '风控合规官（Risk & Compliance Officer）',
    ],
    coreFunctions: [
      '解释触发信号与数据依据',
      '提供调整与不调整的对比结果',
      '执行后持续追踪效果并复盘',
    ],
    requiredCapabilities: [
      '多信号融合预警：结合市场、画像与行为触发阈值（Risk & Compliance Officer）。',
      '策略仿真与情景比较：展示调整 vs 不调整的收益/风险差异（Investment Strategist）。',
      '执行监控与效果回溯：追踪采纳后的表现并沉淀案例（Investment Strategist）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：风险测评结果：测评问卷答案、风险等级(R1-R5)、测评日期',
      '需要的数据类别、具体数据项：股票持仓：股票代码、股票名称、持仓数量、成本价、当前价格、市值、盈亏',
      '需要的数据类别、具体数据项：股票行业分布：行业分类、各行业持仓占比、行业集中度',
    ],
    dataSupportedFunctions: [
      '应用场景：用于风控官执行适当性管理，完成产品风险匹配',
      '应用场景：用于投资策略师了解用户真实风险偏好，识别个股集中度风险',
      '应用场景：帮助风控官识别行业集中度风险',
    ],
  },
  {
    nodeId: '18',
    label: '持仓体检与优化建议',
    triggers: {
      system: '节点16的定期体检周期到达。',
      user: '',
      data: '',
      time: '季度 / 半年度体检日程。',
    },
    aiRoles: [
      '财富管家（Wealth Steward）',
      '投资顾问（Investment Advisor）',
    ],
    coreFunctions: [
      '基于七维指标输出量化健康评分',
      '列出问题清单与具体优化建议',
      '提供产品替换与费率降低方案对比',
    ],
    requiredCapabilities: [
      '七维体检模型：诊断收益、风险、配置、质量、成本、流动性与目标匹配度（Wealth Steward）。',
      '产品替换评估与费率对比：给出替代方案与节费测算（Investment Advisor）。',
      '执行后影响模拟：展现替换后收益/风险/费率变化（Investment Advisor）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：基金持仓明细：基金的十大重仓股、行业分布、前十大持仓占比',
      '需要的数据类别、具体数据项：理财底层资产：理财产品投资方向、股债比例、行业分布',
      '需要的数据类别、具体数据项：产品费用明细：申购费、赎回费、管理费、托管费、销售费',
    ],
    dataSupportedFunctions: [
      '应用场景：用于投资顾问与财富管家开展穿透式风险分析，发现伪分散问题',
      '应用场景：帮助风控官与财富管家完成穿透式风险评估，识别隐藏风险',
      '应用场景：用于财富管家与投资顾问开展费率优化分析，评估成本拖累',
    ],
  },
  {
    nodeId: '19',
    label: '目标达成与成就庆祝',
    triggers: {
      system: '节点16监测到目标达成（完成率 100%）。',
      user: '',
      data: '',
      time: '',
    },
    aiRoles: [
      '客户理财顾问（Client Financial Coach）',
      '财富规划师（Wealth Planner）',
    ],
    coreFunctions: [
      '营造仪式感并展示关键成果与数据',
      '总结成功经验与关键决策复盘',
      '引导选择新的目标或升级服务',
    ],
    requiredCapabilities: [
      '旅程回溯与故事化呈现：用用户语言回顾关键决策（Client Financial Coach）。',
      '成就激励与感谢体系：设计仪式感与分享机制（Client Financial Coach）。',
      '新目标推荐与快速启动：结合画像规划下一阶段路线图（Wealth Planner）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：大额交易记录：转入转出金额、日期、备注、交易对方',
      '需要的数据类别、具体数据项：购买记录：购买时间、产品类型、金额、持有周期',
      '需要的数据类别、具体数据项：分红记录：红利金额、分红时间、红利率、分红方式',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师与理财顾问识别生命事件，触发规划更新',
      '应用场景：帮助理财顾问识别购买偏好、投资风格、决策特点',
      '应用场景：用于财富管家与税务专家进行完整收益计算，推动税务优化',
    ],
  },
  {
    nodeId: '20',
    label: '市场危机应对机制（系统触发）',
    triggers: {
      system: '节点16检测市场暴跌 >3% 或波动异常。',
      user: '',
      data: '节点15情绪雷达 = 极度恐慌。',
      time: '',
    },
    aiRoles: [
      '风控合规官（Risk & Compliance Officer）',
      '客户理财顾问（Client Financial Coach）',
    ],
    coreFunctions: [
      '快速通报事件背景与历史对比稳定情绪',
      '给出坚持/调整/观望三档策略与后果',
      '提供情绪安抚与坚持激励机制',
    ],
    requiredCapabilities: [
      '实时行情监控与敞口识别：量化冲击并分级预警（Risk & Compliance Officer）。',
      '情绪识别与安抚话术：在危机中共情并稳定情绪（Client Financial Coach）。',
      '策略模拟与风险提示：给出坚持/调整/观望三档方案（Risk & Compliance Officer）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：风险数据：个股波动率、基金波动率、最大回撤、夏普比率',
      '需要的数据类别、具体数据项：股票持仓：股票代码、股票名称、持仓数量、成本价、当前价格、市值、盈亏',
      '需要的数据类别、具体数据项：融资融券信息：是否使用融资、融资余额、融资倍数、是否使用融券、融券明细',
    ],
    dataSupportedFunctions: [
      '应用场景：用于风控官开展风险量化，完成产品评估',
      '应用场景：用于投资策略师了解用户真实风险偏好，识别个股集中度风险',
      '应用场景：帮助风控官评估杠杆风险，识别真实风险承受力',
    ],
  },
  {
    nodeId: '21',
    label: '个人财务危机预警与应对（数据触发）',
    triggers: {
      system: '节点16常态监控触发个人财务危机警报。',
      user: '',
      data: '收入骤降 / 支出激增 / 债务压力 / 家庭变故 / 心理压力信号。',
      time: '',
    },
    aiRoles: [
      '风控合规官（Risk & Compliance Officer）',
      '理财 Agent 调度协调管家（Orchestrator）',
      '客户理财顾问（Client Financial Coach）',
    ],
    coreFunctions: [
      '识别财务危机类型与严重程度',
      '输出收入、支出、债务、家庭等情景预案',
      '提供共情话术、资源推荐与人工接力通道',
    ],
    requiredCapabilities: [
      '危机评分与分级：融合收入、支出、负债、行为信号判断严重度（Risk & Compliance Officer）。',
      '人文关怀与资源编排：输出共情话术、心理支持与资源指引（Client Financial Coach）。',
      '跨团队调度与任务派发：协调贷款、客服、心理热线等协同跟进（Orchestrator）。',
    ],
    requiredData: [
      '需要的数据类别、具体数据项：收入数据：工资卡流水、奖金记录、每月到账金额、收入稳定性、年度收入汇总',
      '需要的数据类别、具体数据项：支出数据：日常消费、房贷月供、车贷、信用卡还款、保险费、大额支出',
      '需要的数据类别、具体数据项：其他负债：车贷、消费贷、信用卡负债、民间借贷',
    ],
    dataSupportedFunctions: [
      '应用场景：用于财富规划师计算可投资金额，评估收入增长，设定储蓄目标',
      '应用场景：帮助财富规划师计算现金流缺口，确定应急储备金，识别消费习惯',
      '应用场景：用于风控官全面评估负债压力，判断财务健康度',
    ],
  },
];

type CoreFeatureBundle = {
  preview: string[];
  full: CoreFeatureDetail[];
};

const coreFeatureMap: Record<string, CoreFeatureBundle> = {
  '1': {
    preview: [
      '智能感应与唤醒',
      '多模态身份识别系统',
      '动态个性化欢迎',
      '"点选+对话"双入口导航',
    ],
    full: [
      {
        title: '智能感应与唤醒',
        description:
          '设备集成视觉传感器，当用户进入指定范围（如1.5米内）时，数字员工即刻进入工作状态，并以挥手等肢体动作主动问候。',
      },
      {
        title: '多模态身份识别系统',
        description:
          '优先通过摄像头进行无感人脸识别并匹配核心客户库，同时清晰提示可刷身份证/银行卡等替代方式，确保老客户快速完成精准认证。',
      },
      {
        title: '动态个性化欢迎',
        description:
          '对老客户：识别成功后直接显示“您好，王先生！”并追加如“您关注的XX基金今天有新动态”等关怀提醒，营造VIP被重视感。\n对新客户或路过用户：展示热情欢迎语“您好，我是您的AI理财顾问，有什么可以帮您？”，并同步呈现核心功能入口。',
      },
      {
        title: '"点选+对话"双入口导航',
        description:
          '点选：首页以卡片式布局呈现AI业务导航、AI理财业务、传统业务入口、我的等模块，用户可直接点击。\n对话：虚拟人侧常驻语音输入按钮与文字提示“您可以直接对我说出您的需求”，并提供多模态输入入口，方便随时以自然语言沟通。',
      },
    ],
  },
  '2': {
    preview: ['交互式案例墙 (Success Stories)', '你可能想问 (Smart FAQ)', '快速入门'],
    full: [
      {
        title: '交互式案例墙 (Success Stories)',
        description:
          '提供3-5个典型用户画像案例卡片（如“月光族小张”“新手爸妈”“临近退休的李叔”），点击后按“他的困惑 → AI如何帮助 → 最终成果”展示故事线，迅速建立代入感与信任感。',
      },
      {
        title: '你可能想问 (Smart FAQ)',
        description:
          '将“AI靠谱吗？”、“要花多少钱？”、“我的信息安全吗？”等高频问题以气泡或标签云呈现，点击后以图文或短视频弹窗给出简洁回答，主动消除疑虑。',
      },
      {
        title: '快速入门',
        description:
          '在显著位置提示“只需3分钟，即可了解您是否需要我”，明确探索所需时间成本，帮助用户安心继续体验。',
      },
    ],
  },
  '2.1': {
    preview: [
      '金融信息驾驶舱 (Financial Cockpit)',
      '智能提醒推送模块 (Actionable Insights Feed)',
      '场景化快捷操作入口 (Contextual Quick Actions)',
      '目标进度查看',
    ],
    full: [
      {
        title: '金融信息驾驶舱 (Financial Cockpit)',
        description:
          '身份识别成功后呈现高度概括的财务主页，以仪表盘/环形图等可视化优先展示总资产、累计/昨日收益、资产分布等关键指标。',
      },
      {
        title: '智能提醒推送模块 (Actionable Insights Feed)',
        description:
          '在驾驶舱显著位置以信息流或卡片主动推送3-5条最重要、最相关的动态，如定投扣款提醒、目标达成度、基于市场的AI建议等。',
      },
      {
        title: '场景化快捷操作入口 (Contextual Quick Actions)',
        description:
          '每条提醒卡片旁关联操作按钮，例如定投提醒配【立即追加】、目标进度配【查看详情】、AI建议配【一键采纳】，点击后进入已预填信息的极简交易流程。',
      },
      {
        title: '目标进度查看',
        description:
          '以真实目标为中心（买房、教育金等）持续追踪执行进度，AI负责方案设计、资产配置、监控与动态优化，用户只需阐述目标即可享受全流程自动化管理体验。',
      },
    ],
  },
  '3': {
    preview: ['“傻瓜式”硬件引导UI', '分级授权对比表', '条款摘要与关键字高亮'],
    full: [
      {
        title: '“傻瓜式”硬件引导UI',
        description:
          '在需要操作硬件时同步播放动画指引（如身份证滑入卡槽），并通过实体设备灯光提示正确位置，显著降低操作焦虑与出错率。',
      },
      {
        title: '分级授权对比表',
        description:
          '以清晰表格对比“基础”“标准”“专业”等授权档位，列出可解锁的功能与对应数据权限，帮助用户明确选择的利弊。',
      },
      {
        title: '条款摘要与关键字高亮',
        description:
          '展示协议前先弹出包含3-5个核心要点的摘要浮层，并在全文中对“信息共享”“费用”等关键字加粗高亮，保障信息透明且易于理解。',
      },
    ],
  },
  '4': {
    preview: [
      '前置式隐私保护提示 (Proactive Privacy Prompt)',
      '可视化模式选择器',
      '安全跨屏同步技术 (Secure H5 Link)',
      '“随时切换”悬浮按钮',
      '文件识别引擎（OCR识别银行流水/收入证明）',
    ],
    full: [
      {
        title: '前置式隐私保护提示 (Proactive Privacy Prompt)',
        description:
          '在询问首个敏感问题前，AI主动提醒可以切换到更私密的沟通方式，以共情话术缓解公共环境下的紧张。',
      },
      {
        title: '可视化模式选择器',
        description:
          '以卡片式UI展示至少三种模式：\n- 标准模式：信息同步显示在双屏。\n- 手机输入模式：扫码后在手机上作答，保护隐私。\n- 资料上传模式：支持扫码上传现有电子文件，减少现场输入。',
      },
      {
        title: '安全跨屏同步技术 (Secure H5 Link)',
        description:
          '生成有时效性的动态二维码，手机扫码后进入极简H5界面与VTM保持加密同步，大屏提示“请在手机上作答，我正在等您...”。',
      },
      {
        title: '“随时切换”悬浮按钮',
        description:
          '信息收集过程全程保留模式切换按钮，用户随时可无缝切换且保留已填写内容，增强掌控感与体验流畅度。',
      },
      {
        title: '文件识别引擎（OCR识别银行流水/收入证明）',
        description:
          '支持对上传的银行流水、收入证明等文件进行OCR识别与自动录入，减少手动输入与差错。',
      },
    ],
  },
  '5': {
    preview: [
      '5步进度条（目标→教育→诊断→画像→方案）',
      '通俗有趣的理财知识介绍',
      '图标式目标设定器 (Icon-Based Goal Setter)',
      '“四问快诊”财务健康扫描仪',
      '即时诊断报告与可视化评分',
    ],
    full: [
      {
        title: '5步进度条（目标→教育→诊断→画像→方案）',
        description:
          '在页面顶部常驻五步进度条，提示“还需约5分钟”，每完成一阶段配合打勾动效，持续输出正向反馈。',
      },
      {
        title: '通俗有趣的理财知识介绍',
        description:
          '以亲切语言和趣味图例解释风险、复利等核心理念，让理财新手轻松理解，不再畏惧专业术语。',
      },
      {
        title: '图标式目标设定器 (Icon-Based Goal Setter)',
        description:
          '提供生活化图标（房子、旅行箱等），用户通过“选图标 → 拖时间轴 → 输入金额”即可快速设定首个理财目标。',
      },
      {
        title: '“四问快诊”财务健康扫描仪',
        description:
          '设计四道通俗问答（如“除去开销，您能存下几个月应急金？”），以选择或滑块完成，快速评估财务健康度。',
      },
      {
        title: '即时诊断报告与可视化评分',
        description:
          '完成问答后立即生成迷你报告，展示“财富健康度”评分与颜色等级，并给出一句AI总结建议，激发继续画像的动力。',
      },
    ],
  },
  '6': {
    preview: [
      '“旅程式”进度条 (Journey Progress Bar)',
      '混合式智能问卷',
      '实时动态画像雷达图',
      '“一键跳过”与尊重隐私机制',
    ],
    full: [
      {
        title: '“旅程式”进度条 (Journey Progress Bar)',
        description:
          '顶部进度条将过程分解为“了解您的家庭”“看看您的收入”等阶段，并显示剩余时间，每完成一段即有打勾动效。',
      },
      {
        title: '混合式智能问卷',
        description:
          '结合多种交互形式提升填写效率：\n- 滑块输入用于金额范围型问题。\n- 标签点选帮助快速描述经验与性格。\n- 智能跳过根据已答内容略过无关题目，节约时间。',
      },
      {
        title: '实时动态画像雷达图',
        description:
          '屏幕侧边展示五维画像雷达图（基础信息、财务状况、风险画像、理财目标等），随填写实时延展，直观看到画像“成长”。',
      },
      {
        title: '“一键跳过”与尊重隐私机制',
        description:
          '敏感金额问题旁提供“跳过/不方便透露”按钮，AI会友好回应“没关系，后续可在私密环境补充”，体现尊重。',
      },
    ],
  },
  '7': {
    preview: [
      '目标具体化引导模块 (Goal Clarification Wizard)',
      '即时可行性评估器 (Real-time Feasibility Gauge)',
      '多目标可视化甘特图 (Multi-Goal Gantt Chart)',
      'SMART目标总结卡片',
    ],
    full: [
      {
        title: '目标具体化引导模块 (Goal Clarification Wizard)',
        description:
          '针对模糊目标启动3-5个场景化问题（如“孩子是否考虑出国就读？”），逐步澄清需求并锁定关键参数。',
      },
      {
        title: '即时可行性评估器 (Real-time Feasibility Gauge)',
        description:
          '用户输入定投金额后即刻呈现三档投入方案及对应“目标达成概率”仪表盘，帮助权衡投入产出。',
      },
      {
        title: '多目标可视化甘特图 (Multi-Goal Gantt Chart)',
        description:
          '当存在多个目标时自动生成时间轴甘特图，高亮冲突区并提出如“分阶段实现”等解决建议。',
      },
      {
        title: 'SMART目标总结卡片',
        description:
          '完成澄清后输出遵循SMART原则的总结卡片，并提供【确认目标，开始定制方案】按钮标记阶段完成。',
      },
    ],
  },
  '8': {
    preview: [
      '“方案生成”仪式感动画',
      '可滑动对比方案卡片 (Swipeable Solution Cards)',
      '“方案透视”详情页 (Solution Deep-Dive Page)',
      '可视化对比雷达图',
      '实时“What-if”模拟器',
      '预判问题气泡浮动提示',
    ],
    full: [
      {
        title: '“方案生成”仪式感动画',
        description:
          '目标确认后播放约5秒科技感动画，模拟AI运算过程，强化专属定制价值感。',
      },
      {
        title: '可滑动对比方案卡片 (Swipeable Solution Cards)',
        description:
          '以保守型、稳健型、进取型三张并列卡片展示方案，用户可左右滑动比较，卡片突出预期收益率与最大回撤。',
      },
      {
        title: '“方案透视”详情页 (Solution Deep-Dive Page)',
        description:
          '点击卡片进入包含多个模块的详情页：\n- 配置逻辑解释器：用图表+大白话说明配置原因。\n- 未来收益模拟器：展示蒙特卡洛概率云图。\n- 历史情景回测：通过交互时间轴查看危机期间表现。',
      },
      {
        title: '可视化对比雷达图',
        description:
          '提供专门的雷达图工具，从预期收益、风险水平、流动性、费率成本等维度对比三种方案优劣。',
      },
      {
        title: '实时“What-if”模拟器',
        description:
          '在详情页提供可拖动滑块，实时调整每月定投金额并即时反馈目标达成时间或最终财富总额变化。',
      },
      {
        title: '预判问题气泡浮动提示',
        description:
          '基于用户画像与上下文实时预测“您可能还想问”的问题，在页面上以气泡提示预先解答关注点。',
      },
    ],
  },
  '9': {
    preview: [
      '智能疑虑预判模块 (Predictive FAQ)',
      '“费用放大镜”——佣金完全透明化工具',
      '“坦诚三连”——负面信息主动披露模块',
      '无缝人工转接入口 (Seamless Human Handoff)',
    ],
    full: [
      {
        title: '智能疑虑预判模块 (Predictive FAQ)',
        description:
          '根据用户画像与方案特征动态生成“您可能还想问”区域，列出最相关的6个疑虑供点击查看。',
      },
      {
        title: '“费用放大镜”——佣金完全透明化工具',
        description:
          '用户输入计划投资金额即可计算未来一年费用明细，以“大白话”呈现“每投资1万元约需支付XX元”，彻底消除费用疑虑。',
      },
      {
        title: '“坦诚三连”——负面信息主动披露模块',
        description:
          '设置专属区域主动披露：\n- 方案的三个主要缺点。\n- 不适合的情景与人群。\n- 最坏情景模拟表现，建立透明信任。',
      },
      {
        title: '无缝人工转接入口 (Seamless Human Handoff)',
        description:
          '疑虑列表底部常驻【还有疑问？点击呼叫真人专家】，提供视频/电话/在线/预约等多渠道人工支持，同时同步上下文。',
      },
    ],
  },
  '10': {
    preview: [
      '主动式转接建议 (Proactive Handoff Suggestion)',
      '多渠道咨询方式选择器',
      '“零重复”信息同步确认',
      '人机协同操作界面',
    ],
    full: [
      {
        title: '主动式转接建议 (Proactive Handoff Suggestion)',
        description:
          '当触发金额阈值、复杂需求或情绪信号时，AI以增值服务口吻建议接入资深顾问，确保重要决策获得双重确认。',
      },
      {
        title: '多渠道咨询方式选择器',
        description:
          '弹出选择界面供用户在【立即视频通话】【电话沟通】【在线文字聊天】【预约线下网点】之间选择，并标注预计等待时间。',
      },
      {
        title: '“零重复”信息同步确认',
        description:
          '等待转接时提示“您与我的全部沟通记录已同步给[理财经理姓名]，无需重复说明”，并展示即将接入经理的照片、资历等信息。',
      },
      {
        title: '人机协同操作界面',
        description:
          '视频/语音通话过程中，VTM屏幕可作为共享画面，人工顾问可推送对比图表与条款详情，通话结束后用户可直接在VTM继续操作。',
      },
    ],
  },
  '11': {
    preview: [
      '智能犹豫监测引擎',
      '“犹豫很正常”共情对话框',
      '阶梯式入场方案生成器 (Gradual Entry Plan)',
      '“决策前”确认清单 (Pre-Decision Checklist)',
    ],
    full: [
      {
        title: '智能犹豫监测引擎',
        description:
          '监测最终确认页面的停留时长、反复进出等行为，一旦超过阈值自动触发犹豫关怀流程。',
      },
      {
        title: '“犹豫很正常”共情对话框',
        description:
          '弹出友好对话框先表达理解，再提供多选列表让用户选择顾虑原因（担心亏损、怕时机不对等），便于精准回应。',
      },
      {
        title: '阶梯式入场方案生成器 (Gradual Entry Plan)',
        description:
          '针对资金压力或恐惧未知等原因，自动生成“先投入30%再逐步加仓”等阶梯式方案，降低首次投入的心理门槛。',
      },
      {
        title: '“决策前”确认清单 (Pre-Decision Checklist)',
        description:
          '在最终确认前弹出5-7项勾选清单（如“我已了解潜在风险”），并设置三种按钮：绿色“确认办理”（含5秒冷静期）、蓝色“保存方案7天”、白色“降低金额重新规划”。',
      },
    ],
  },
  '12': {
    preview: [
      '交易流程导航器 (Transaction Navigator Bar)',
      'AI引导式智能双录 (AI-Guided Recording)',
      '一键成交与庆祝套件 (One-Click Confirmation & Celebration Suite)',
      '“我的投资旅程”可视化时间轴',
      '个性化AI感谢信',
      '打印凭条或发送至手机',
    ],
    full: [
      {
        title: '交易流程导航器 (Transaction Navigator Bar)',
        description:
          '在顶部或侧边展示清晰的五步流程（身份核验→风险测评→风险揭示→系统校验→最终确认），实时显示当前进度。',
      },
      {
        title: 'AI引导式智能双录 (AI-Guided Recording)',
        description:
          'AI逐条展示需确认的问题（如“您是否知晓投资有风险？”），用户按提示回答即可完成双录，过程结构化且合规。',
      },
      {
        title: '一键成交与庆祝套件 (One-Click Confirmation & Celebration Suite)',
        description:
          '确认成功后自动触发庆祝动画、生成可分享的成就卡片与勋章（如“梦想启航家”），打造积极的高峰体验。',
      },
      {
        title: '“我的投资旅程”可视化时间轴',
        description:
          '生成从今日启航到目标达成的时间轴，标注关键里程碑，将一次交易上升为长期旅程的开端。',
      },
      {
        title: '个性化AI感谢信',
        description:
          '展示AI顾问署名的感谢信，引用用户的具体目标场景，传递被理解与被陪伴的情感。',
      },
      {
        title: '打印凭条或发送至手机',
        description:
          '提供一键打印交易凭条或发送至用户手机的能力，方便用户保存记录与随时查阅。',
      },
    ],
  },
  '13': {
    preview: [
      '“APP专属价值”说明页',
      '智能识别扫码下载',
      '“欢迎回来”无感数据同步',
      '60秒快速设置向导',
    ],
    full: [
      {
        title: '“APP专属价值”说明页',
        description:
          '在VTM流程末尾展示APP的六大核心价值（随时查看收益、接收市场异动提醒、7x24小时对话等），先阐明价值再发起下载邀请。',
      },
      {
        title: '智能识别扫码下载',
        description:
          '生成与用户身份绑定的时效二维码，扫码后下载链接携带识别令牌，APP可自动识别并跳过重复登录注册。',
      },
      {
        title: '“欢迎回来”无感数据同步',
        description:
          '首次打开APP即显示“欢迎您，正在同步您在VTM上的规划...”并配同步进度条，全程自动对接历史数据。',
      },
      {
        title: '60秒快速设置向导',
        description:
          '同步完成后仅保留APP特有的少量设置（如指纹、通知权限），并明确提示“已为您同步XX项设置”，避免重复劳动。',
      },
    ],
  },
  '14': {
    preview: [
      '“补充更多画像”按钮',
      '实时动态画像生成器 (Live Profile Builder)',
      '可交互与编辑的标签体系',
      '智能矛盾提醒器',
      '行为画像一致性提醒',
    ],
    full: [
      {
        title: '“补充更多画像”按钮',
        description:
          '在聊天式界面中持续发起开放式问题（如“您如何定义财务自由？”），并根据用户回应进行智能追问，打造自然流畅的深度访谈体验。',
      },
      {
        title: '实时动态画像生成器 (Live Profile Builder)',
        description:
          '对话区域旁实时展示画像可视化，当提及新信息点时即时点亮或更新对应标签，让用户看到AI如何理解自己。',
      },
      {
        title: '可交互与编辑的标签体系',
        description:
          '用户可打开完整画像查看AI打上的全部标签，点击可追溯来源语句并拥有编辑/删除权限，确保精准与掌控感。',
      },
      {
        title: '智能矛盾提醒器',
        description:
          '检测到前后表述存在冲突时，以启发式话术提示（如“您既强调资金安全又对高风险投资感兴趣，可以再聊聊吗？”），挖掘更深层需求。',
      },
      {
        title: '行为画像一致性提醒',
        description:
          '当用户实际行为与画像标签不一致时在同一页面提示，帮助及时校准画像与策略。',
      },
    ],
  },
  '15': {
    preview: [
      '“72小时安心陪伴”自动化旅程',
      '高频查看行为智能干预系统',
      '事件驱动式情绪安抚引擎',
      '“情绪-话术”匹配库',
      '市场简报推送',
    ],
    full: [
      {
        title: '“72小时安心陪伴”自动化旅程',
        description:
          '成交后自动启动T+6h、T+24h、T+48h等触达序列，通过In-App或推送传递心态建设内容与鼓励话语。',
      },
      {
        title: '高频查看行为智能干预系统',
        description:
          '监测到用户短期内高频查看收益时，AI主动发起关怀提醒，鼓励关注长期目标而非短期波动。',
      },
      {
        title: '事件驱动式情绪安抚引擎',
        description:
          '联动市场与持仓数据，当跌幅超过阈值即推送包含共情、历史数据、行动建议的安抚信息，避免情绪化操作。',
      },
      {
        title: '“情绪-话术”匹配库',
        description:
          '内置焦虑、后悔、恐慌等六类情绪的专属话术，触发干预时自动匹配最贴切的沟通内容。',
      },
      {
        title: '市场简报推送',
        description:
          '在陪伴期内提供简洁的市场快讯，帮助用户理解波动来源并稳定预期。',
      },
    ],
  },
  '16': {
    preview: [
      '多场景智能提醒中心',
      '交互式《月度财富健康报告》',
      '个性化信息简报订阅服务',
      '“一键再平衡”智能模块',
      '目标旅程图',
    ],
    full: [
      {
        title: '多场景智能提醒中心',
        description:
          '支持订阅“定投执行”“持仓偏离”“目标进度”“市场重大事件”等多类提醒，确保重要信息不错过。',
      },
      {
        title: '交互式《月度财富健康报告》',
        description:
          '提供可点击下钻的深度报告，用户可查看分项评分、分析与优化建议，而非静态PDF。',
      },
      {
        title: '个性化信息简报订阅服务',
        description:
          '允许用户自定义信息频率与深度，例如每日200字快讯或每周深度周报，实现千人千面的信息服务。',
      },
      {
        title: '“一键再平衡”智能模块',
        description:
          '当资产配置偏离目标超过阈值时自动生成建议，清晰展示调整前后对比与交易明细，用户一次授权即可执行。',
      },
      {
        title: '目标旅程图',
        description:
          '以旅程图形式持续展示各目标的进度、里程碑与下一步建议，强化长期陪伴感。',
      },
    ],
  },
  '17': {
    preview: [
      '全天候“调整信号”监测雷达',
      '五维度调整方案报告 (5D Proposal Report)',
      '“如果我不做”情景模拟器',
      '“我的决策”效果追踪看板',
      '灵活决策采纳选项',
    ],
    full: [
      {
        title: '全天候“调整信号”监测雷达',
        description:
          '后台持续监测来自用户、市场、组合的五类关键信号，一旦触及阈值立即触发调整评估。',
      },
      {
        title: '五维度调整方案报告 (5D Proposal Report)',
        description:
          '生成结构化报告涵盖“调整原因→调整内容→执行方式→调整后预期→不调整的风险”，并以图表辅助理解。',
      },
      {
        title: '“如果我不做”情景模拟器',
        description:
          '提供“保持原策略”的模拟结果，对比调整与不调整的潜在收益和风险，凸显调整必要性。',
      },
      {
        title: '“我的决策”效果追踪看板',
        description:
          '记录每一次策略调整并持续追踪表现，与虚拟未调整组合对比，量化AI建议的长期价值。',
      },
      {
        title: '灵活决策采纳选项',
        description:
          '支持采纳、拒绝、部分采纳等灵活决策记录，并将用户选择纳入后续跟踪与复盘。',
      },
    ],
  },
  '18': {
    preview: [
      '持仓体检与查看',
      '交互式问题清单 (Actionable Issue List)',
      '“智能替换”对比决策器',
      '“年度省钱账单”',
    ],
    full: [
      {
        title: '持仓体检与查看',
        description:
          '定期生成组合健康主页，展示综合得分与七维度评级，并以图表呈现资产状况。',
      },
      {
        title: '交互式问题清单 (Actionable Issue List)',
        description:
          '将诊断出的风险与机会形成待办清单，点击“费率偏高”等项目即可下钻查看详情与建议。',
      },
      {
        title: '“智能替换”对比决策器',
        description:
          '针对待替换产品并排展示原持仓与推荐替代品的表现、费率、经理、风险等级等数据，并支持“一键替换”。',
      },
      {
        title: '“年度省钱账单”',
        description:
          '按年汇总通过费率优化等建议为用户节省的金额，让AI带来的实际价值一目了然。',
      },
    ],
  },
  '19': {
    preview: [
      '“梦想成真”即时庆典',
      '可分享的“高光时刻”成就卡片',
      '交互式“投资回忆”时间轴',
      '可下载的《个人投资成就报告》',
      '“下一步去哪儿？”智能目标推荐器',
    ],
    full: [
      {
        title: '“梦想成真”即时庆典',
        description:
          '目标达成瞬间推送祝贺通知并播放与目标相关的庆祝动画，强化成就感。',
      },
      {
        title: '可分享的“高光时刻”成就卡片',
        description:
          '生成展示投入、收益、达成时长等数据的精美卡片及专属勋章，并提供社交分享按钮。',
      },
      {
        title: '交互式“投资回忆”时间轴',
        description:
          '以时间轴回顾关键节点（首次定投、市场大跌坚持等），点击可查看当时详情，重温坚持历程。',
      },
      {
        title: '可下载的《个人投资成就报告》',
        description:
          '自动生成深度PDF，包括表现分析、关键决策复盘、投资纪律评估等章节，帮助沉淀经验。',
      },
      {
        title: '“下一步去哪儿？”智能目标推荐器',
        description:
          '基于当前画像推荐延续型、拓展型、升级型三类新目标，并提供一键发起后续规划的入口。',
      },
    ],
  },
  '20': {
    preview: [
      '三级市场危机预警系统',
      '“黄金5分钟”快速响应推送',
      '“危机应对作战室”动态页面',
      '策略选择器与后果模拟',
      '“坚持者”激励机制',
    ],
    full: [
      {
        title: '三级市场危机预警系统',
        description:
          '实时监控核心指数，当跌幅触及-3%/-5%/-8%分别触发黄/橙/红三级预警并推送对应内容。',
      },
      {
        title: '“黄金5分钟”快速响应推送',
        description:
          '预警触发后5分钟内推送首条安抚信息，告知已关注波动并预告后续详细分析，先稳住情绪。',
      },
      {
        title: '“危机应对作战室”动态页面',
        description:
          'APP首页切换为危机模式，集中展示“发生了什么/对您影响/历史情况”以及对应策略选项与教育内容。',
      },
      {
        title: '策略选择器与后果模拟',
        description:
          '以A/B/C三种策略卡片呈现，并用星级推荐“坚持原计划”，每个策略都说明可能后果（如错过反弹收益）。',
      },
      {
        title: '“坚持者”激励机制',
        description:
          '对危机期间坚持定投或未做非理性赎回的用户，在市场恢复后授予“危机领航员”勋章或积分奖励，强化长期主义。',
      },
    ],
  },
  '21': {
    preview: [
      '“财务脉搏”异动监测系统',
      '“关怀优先”沟通协议',
      '场景化应急预案生成器',
      '“AI守护模式” (Guardian Mode)',
      '“暖心资源”支持中心',
    ],
    full: [
      {
        title: '“财务脉搏”异动监测系统',
        description:
          '在用户授权下监测关键财务指标，如连续两个月工资未到账即自动触发个人危机预警。',
      },
      {
        title: '“关怀优先”沟通协议',
        description:
          '危机触发后的首条信息只传达关怀与支持，“我们留意到您的财务状况可能发生变化……请随时告诉我们”。',
      },
      {
        title: '场景化应急预案生成器',
        description:
          '用户选择危机类型（收入中断、意外支出等）后，系统即时生成含分步骤行动建议的应急计划卡片。',
      },
      {
        title: '“AI守护模式” (Guardian Mode)',
        description:
          '进入守护模式后，APP内推荐算法从“促进增长”切换为“保障生存”，暂时屏蔽加仓建议，改推节流与债务管理内容。',
      },
      {
        title: '“暖心资源”支持中心',
        description:
          '在应急计划下方提供心理咨询、债务重组、社会福利指南等非盈利资源链接，延伸AI的人文关怀。',
      },
    ],
  },
};

export const nodeInsights: NodeInsight[] = baseNodeInsights.map((insight) => {
  const features = coreFeatureMap[insight.nodeId];
  if (!features) {
    return insight;
  }
  return {
    ...insight,
    coreFeaturesPreview: features.preview,
    coreFeaturesFull: features.full,
  };
});
